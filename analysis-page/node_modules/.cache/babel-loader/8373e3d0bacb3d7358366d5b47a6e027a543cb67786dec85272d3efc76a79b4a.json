{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useLayoutEffect } from 'react';\nimport * as d3 from 'd3';\nexport default function useSVGCanvas(d3Container) {\n  _s();\n  //takes a ref to a container, makes an svg over it, and returns the svg selection, size ,and a tooltip\n  const [windowHeight, windowWidth] = useWindowSize();\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [svg, setSvg] = useState();\n  const [tTip, setTTip] = useState();\n  console.log(windowHeight, windowWidth);\n  useEffect(function makeSvg() {\n    if (d3Container.current) {\n      d3.select(d3Container.current).selectAll('svg').remove();\n      var h = d3Container.current.clientHeight;\n      var w = d3Container.current.clientWidth;\n      var canvas = d3.select(d3Container.current).append('svg').attr('class', 'frameEntryD3')\n      // .attr('viewbox',[0,0,width,height])\n      .attr('width', w).attr('height', h);\n      if (d3.select('body').select('.tooltip').empty()) {\n        d3.select('body').append('div').attr('class', 'tooltip').style('visibility', 'hidden');\n      }\n      var tip = d3.select('body').select('.tooltip');\n      setHeight(h);\n      setWidth(w);\n      setSvg(canvas);\n      setTTip(tip);\n    }\n  }, [d3Container.current, windowWidth, windowHeight]);\n  return [svg, height, width, tTip];\n}\n_s(useSVGCanvas, \"6d92GQZH+mK4clAu22BYoCoxaso=\", false, function () {\n  return [useWindowSize];\n});\nfunction useWindowSize() {\n  _s2();\n  const [size, setSize] = useState([0, 0]);\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight]);\n    }\n    window.addEventListener('resize', updateSize);\n    updateSize();\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n  return size;\n}\n_s2(useWindowSize, \"13XWg4Ot0MOczACYcn76+JLjv8w=\");","map":{"version":3,"names":["React","useEffect","useState","useLayoutEffect","d3","useSVGCanvas","d3Container","_s","windowHeight","windowWidth","useWindowSize","height","setHeight","width","setWidth","svg","setSvg","tTip","setTTip","console","log","makeSvg","current","select","selectAll","remove","h","clientHeight","w","clientWidth","canvas","append","attr","empty","style","tip","_s2","size","setSize","updateSize","window","innerWidth","innerHeight","addEventListener","removeEventListener"],"sources":["/Users/kokofan/Documents/project/CS529HW1/src/useSVGCanvas.js"],"sourcesContent":["import React, { useEffect, useState, useLayoutEffect } from 'react';\nimport * as d3 from 'd3';\n\nexport default function useSVGCanvas(d3Container){\n    //takes a ref to a container, makes an svg over it, and returns the svg selection, size ,and a tooltip\n    const [windowHeight, windowWidth] = useWindowSize();\n    const [height, setHeight] = useState(0);\n    const [width, setWidth] = useState(0);\n    const [svg, setSvg] = useState();\n    const [tTip, setTTip] = useState();\n    console.log(windowHeight, windowWidth)\n\n\n    useEffect(function makeSvg(){\n        if(d3Container.current){\n            \n            d3.select(d3Container.current).selectAll('svg').remove();\n\n            var h = d3Container.current.clientHeight;\n            var w = d3Container.current.clientWidth;\n\n            var canvas = d3.select(d3Container.current)\n                .append('svg')\n                .attr('class','frameEntryD3')\n                // .attr('viewbox',[0,0,width,height])\n                .attr('width',w)\n                .attr('height',h);\n\n            if(d3.select('body').select('.tooltip').empty()){\n                d3.select('body').append('div')\n                    .attr('class','tooltip')\n                    .style('visibility','hidden');\n            }\n            var tip = d3.select('body').select('.tooltip');\n\n            setHeight(h);\n            setWidth(w);\n            setSvg(canvas);\n            setTTip(tip);\n        }\n    },[d3Container.current,windowWidth, windowHeight]);\n\n    return [svg, height, width, tTip]\n}\n\nfunction useWindowSize() {\n    const [size, setSize] = useState([0, 0]);\n    useLayoutEffect(() => {\n      function updateSize() {\n        setSize([window.innerWidth, window.innerHeight]);\n      }\n      window.addEventListener('resize', updateSize);\n      updateSize();\n      return () => window.removeEventListener('resize', updateSize);\n    }, []);\n    return size;\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}